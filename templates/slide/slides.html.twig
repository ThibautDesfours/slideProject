{% extends 'base.html.twig' %}

{% block title %}Slides{% endblock %}

{% block body %}
   <div class="container">

		<h1 class="font-weight-light text-center text-lg-left mt-4 mb-0">Slides :</h1>

		<hr class="mt-2 mb-5">

		<div class="row text-center text-lg-left">
                <div class="col-lg-3 col-md-4 col-6">
                    <a data-target="{{ path('slideNew')}}" class="tooltipped modal-trigger btn right-align d-block mb-4 h-60" data-tooltip="voir" href="#modalAjout">
                        <img class="img-fluid img-thumbnail" src="{{asset('/pictures/icons/add.png')}}" alt="Ajouter une nouvelle slide">
                    </a>                
                </div>
            {% for slide in slides %}
                <div class="col-lg-3 col-md-4 col-6">
                    <p><h4 class="font-weight-light text-center text-lg-left mt-4 mb-0">{{slide.title_slide}}</h4></p>
                    <a href="slide/show/{{slide.id}}" class="d-block mb-4 h-60">
                        <img class="img-fluid img-thumbnail" src="{{asset(slide.path_picture)}}" alt="{{slide.name_picture}}">
                    </a>      
                     <h5 class="font-weight-light text-center text-lg-left mt-4 mb-0">Créé le {{slide.createdAt|date("m/d/Y")}}</h5>              
                </div>
            {% endfor %}
        </div>

        <div id="modalAjout" class="modal">
            <div class="modal-content">


            </div>
        </div> 
	</div>
{% endblock %}
{% block javascripts %}
    <script>
        $(document).ready(function() {

        //On écoute le "click" sur le bouton ayant la classe "modal-trigger"

        $('.modal-trigger').click(function () {

        //On initialise les modales materialize

                $('.modal').modal();

                //On récupère l'url depuis la propriété "Data-target" de la balise html a

                url = $(this).attr('data-target');

                //on fait un appel ajax vers l'action symfony qui nous renvoie la vue

                $.get(url, function (data) {

                    //on injecte le html dans la modale

                    $('.modal-content').html(data);

                    //on ouvre la modale

                    $('#modalAjout').modal('open');

                });

            })

        });
    </script>
{% endblock %}
